var $s=Object.defineProperty;var an=t=>{throw TypeError(t)};var zs=(t,e,r)=>e in t?$s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var w=(t,e,r)=>zs(t,typeof e!="symbol"?e+"":e,r),gr=(t,e,r)=>e.has(t)||an("Cannot "+r);var g=(t,e,r)=>(gr(t,e,"read from private field"),r?r.call(t):e.get(t)),y=(t,e,r)=>e.has(t)?an("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),_=(t,e,r,n)=>(gr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),L=(t,e,r)=>(gr(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Cs="5";var Rn;typeof window<"u"&&((Rn=window.__svelte??(window.__svelte={})).v??(Rn.v=new Set)).add(Cs);const Ps=1,Is=2,Ls=16,Ms=4,Ns=1,qs=2,M=Symbol(),An=!1;var Or=Array.isArray,Os=Array.prototype.indexOf,Dr=Array.from,wr=Object.defineProperty,xt=Object.getOwnPropertyDescriptor,Ds=Object.prototype,Bs=Array.prototype,Fs=Object.getPrototypeOf,on=Object.isExtensible;function js(t){return typeof t=="function"}const dt=()=>{};function Zs(t){for(var e=0;e<t.length;e++)t[e]()}function $n(){var t,e,r=new Promise((n,s)=>{t=n,e=s});return{promise:r,resolve:t,reject:e}}const j=2,Br=4,Fr=8,Ne=16,Re=32,Ke=64,jr=128,ie=256,Qt=512,q=1024,J=2048,qe=4096,pe=8192,ct=16384,lr=32768,It=65536,un=1<<17,Hs=1<<18,ft=1<<19,Us=1<<20,yr=1<<21,Zr=1<<22,He=1<<23,Zt=Symbol("$state"),et=new class extends Error{constructor(){super(...arguments);w(this,"name","StaleReactionError");w(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ws(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Gs(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Qs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ks(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Js(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ti(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function ri(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ni=!1;function zn(t){return t===this.v}function si(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Cn(t){return!si(t,this.v)}let Lt=!1,ii=!1;function li(){Lt=!0}let C=null;function ot(t){C=t}function ar(t,e=!1,r){C={p:C,c:null,e:null,s:t,x:null,l:Lt&&!e?{s:null,u:null,$:[]}:null}}function or(t){var e=C,r=e.e;if(r!==null){e.e=null;for(var n of r)Qn(n)}return C=e.p,{}}function Mt(){return!Lt||C!==null&&C.l===null}let Oe=[];function Pn(){var t=Oe;Oe=[],Zs(t)}function We(t){if(Oe.length===0&&!bt){var e=Oe;queueMicrotask(()=>{e===Oe&&Pn()})}Oe.push(t)}function ai(){for(;Oe.length>0;)Pn()}const oi=new WeakMap;function In(t){var e=b;if(e===null)return x.f|=He,t;if((e.f&lr)===0){if((e.f&jr)===0)throw!e.parent&&t instanceof Error&&Ln(t),t;e.b.error(t)}else ut(t,e)}function ut(t,e){for(;e!==null;){if((e.f&jr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t instanceof Error&&Ln(t),t}function Ln(t){const e=oi.get(t);e&&(wr(t,"message",{value:e.message}),wr(t,"stack",{value:e.stack}))}const Dt=new Set;let A=null,Ht=null,I=null,Sr=new Set,xe=[],ur=null,Er=!1,bt=!1;var st,it,De,At,lt,Be,at,$t,zt,le,Tr,Ut,Rr;const nr=class nr{constructor(){y(this,le);w(this,"current",new Map);y(this,st,new Map);y(this,it,new Set);y(this,De,0);y(this,At,null);y(this,lt,[]);y(this,Be,[]);y(this,at,[]);y(this,$t,[]);y(this,zt,[]);w(this,"skipped_effects",new Set)}process(e){var i;xe=[],Ht=null,this.apply();for(const a of e)L(this,le,Tr).call(this,a);if(g(this,De)===0){var r=I;L(this,le,Rr).call(this);var n=g(this,lt),s=g(this,Be);_(this,lt,[]),_(this,Be,[]),_(this,at,[]),Ht=this,A=null,I=r,cn(n),cn(s),Ht=null,(i=g(this,At))==null||i.resolve()}else L(this,le,Ut).call(this,g(this,lt)),L(this,le,Ut).call(this,g(this,Be)),L(this,le,Ut).call(this,g(this,at));I=null}capture(e,r){g(this,st).has(e)||g(this,st).set(e,r),this.current.set(e,e.v),I==null||I.set(e,e.v)}activate(){A=this}deactivate(){A=null,I=null}flush(){if(xe.length>0){if(this.activate(),Mn(),A!==null&&A!==this)return}else g(this,De)===0&&L(this,le,Rr).call(this);this.deactivate();for(const e of Sr)if(Sr.delete(e),e(),A!==null)break}increment(){_(this,De,g(this,De)+1)}decrement(){_(this,De,g(this,De)-1);for(const e of g(this,$t))B(e,J),Ve(e);for(const e of g(this,zt))B(e,qe),Ve(e);this.flush()}add_callback(e){g(this,it).add(e)}settled(){return(g(this,At)??_(this,At,$n())).promise}static ensure(){if(A===null){const e=A=new nr;Dt.add(A),bt||nr.enqueue(()=>{A===e&&e.flush()})}return A}static enqueue(e){We(e)}apply(){}};st=new WeakMap,it=new WeakMap,De=new WeakMap,At=new WeakMap,lt=new WeakMap,Be=new WeakMap,at=new WeakMap,$t=new WeakMap,zt=new WeakMap,le=new WeakSet,Tr=function(e){e.f^=q;for(var r=e.first;r!==null;){var n=r.f,s=(n&(Re|Ke))!==0,i=s&&(n&q)!==0,a=i||(n&pe)!==0||this.skipped_effects.has(r);if(!a&&r.fn!==null){s?r.f^=q:(n&Br)!==0?g(this,Be).push(r):cr(r)&&((r.f&Ne)!==0&&g(this,at).push(r),Yt(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}},Ut=function(e){for(const r of e)((r.f&J)!==0?g(this,$t):g(this,zt)).push(r),B(r,q);e.length=0},Rr=function(){var e;for(const r of g(this,it))r();if(g(this,it).clear(),Dt.size>1){g(this,st).clear();let r=!0;for(const n of Dt){if(n===this){r=!1;continue}const s=[];for(const[a,l]of this.current){if(n.current.has(a))if(r&&l!==n.current.get(a))n.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const i=[...n.current.keys()].filter(a=>!this.current.has(a));if(i.length>0){for(const a of s)Nn(a,i);if(xe.length>0){A=n,n.apply();for(const a of xe)L(e=n,le,Tr).call(e,a);xe=[],n.deactivate()}}}A=null}Dt.delete(this)};let Te=nr;function ui(t){var e=bt;bt=!0;try{for(var r;;){if(ai(),xe.length===0&&(A==null||A.flush(),xe.length===0))return ur=null,r;Mn()}}finally{bt=e}}function Mn(){var t=nt;Er=!0;try{var e=0;for(pn(!0);xe.length>0;){var r=Te.ensure();if(e++>1e3){var n,s;ci()}r.process(xe),Le.clear()}}finally{Er=!1,pn(t),ur=null}}function ci(){try{Ys()}catch(t){ut(t,ur)}}let ye=null;function cn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(ct|pe))===0&&cr(n)&&(ye=[],Yt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?es(n):n.fn=null),(ye==null?void 0:ye.length)>0)){Le.clear();for(const s of ye)Yt(s);ye=[]}}ye=null}}function Nn(t,e){if(t.reactions!==null)for(const r of t.reactions){const n=r.f;(n&j)!==0?Nn(r,e):(n&(Zr|Ne))!==0&&qn(r,e)&&(B(r,J),Ve(r))}}function qn(t,e){if(t.deps!==null){for(const r of t.deps)if(e.includes(r)||(r.f&j)!==0&&qn(r,e))return!0}return!1}function Ve(t){for(var e=ur=t;e.parent!==null;){e=e.parent;var r=e.f;if(Er&&e===b&&(r&Ne)!==0)return;if((r&(Ke|Re))!==0){if((r&q)===0)return;e.f^=q}}xe.push(e)}function fi(t){let e=0,r=Ge(0),n;return()=>{Ai()&&($(r),Wr(()=>(e===0&&(n=qt(()=>t(()=>wt(r)))),e+=1,()=>{We(()=>{e-=1,e===0&&(n==null||n(),n=void 0,wt(r))})})))}}var hi=It|ft|jr;function pi(t,e,r){new di(t,e,r)}var ae,re,qr,ve,Fe,ke,ne,U,_e,$e,je,ze,Ze,Ce,sr,ir,F,gi,vi,Wt,Vt,Ar;class di{constructor(e,r,n){y(this,F);w(this,"parent");y(this,ae,!1);y(this,re);y(this,qr,null);y(this,ve);y(this,Fe);y(this,ke);y(this,ne,null);y(this,U,null);y(this,_e,null);y(this,$e,null);y(this,je,0);y(this,ze,0);y(this,Ze,!1);y(this,Ce,null);y(this,sr,()=>{g(this,Ce)&&St(g(this,Ce),g(this,je))});y(this,ir,fi(()=>(_(this,Ce,Ge(g(this,je))),()=>{_(this,Ce,null)})));_(this,re,e),_(this,ve,r),_(this,Fe,n),this.parent=b.b,_(this,ae,!!g(this,ve).pending),_(this,ke,Vr(()=>{b.b=this;{try{_(this,ne,ue(()=>n(g(this,re))))}catch(s){this.error(s)}g(this,ze)>0?L(this,F,Vt).call(this):_(this,ae,!1)}},hi))}is_pending(){return g(this,ae)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!g(this,ve).pending}update_pending_count(e){L(this,F,Ar).call(this,e),_(this,je,g(this,je)+e),Sr.add(g(this,sr))}get_effect_pending(){return g(this,ir).call(this),$(g(this,Ce))}error(e){var r=g(this,ve).onerror;let n=g(this,ve).failed;if(g(this,Ze)||!r&&!n)throw e;g(this,ne)&&(G(g(this,ne)),_(this,ne,null)),g(this,U)&&(G(g(this,U)),_(this,U,null)),g(this,_e)&&(G(g(this,_e)),_(this,_e,null));var s=!1,i=!1;const a=()=>{if(s){ri();return}s=!0,i&&ti(),Te.ensure(),_(this,je,0),g(this,_e)!==null&&rt(g(this,_e),()=>{_(this,_e,null)}),_(this,ae,this.has_pending_snippet()),_(this,ne,L(this,F,Wt).call(this,()=>(_(this,Ze,!1),ue(()=>g(this,Fe).call(this,g(this,re)))))),g(this,ze)>0?L(this,F,Vt).call(this):_(this,ae,!1)};var l=x;try{V(null),i=!0,r==null||r(e,a),i=!1}catch(u){ut(u,g(this,ke)&&g(this,ke).parent)}finally{V(l)}n&&We(()=>{_(this,_e,L(this,F,Wt).call(this,()=>{_(this,Ze,!0);try{return ue(()=>{n(g(this,re),()=>e,()=>a)})}catch(u){return ut(u,g(this,ke).parent),null}finally{_(this,Ze,!1)}}))})}}ae=new WeakMap,re=new WeakMap,qr=new WeakMap,ve=new WeakMap,Fe=new WeakMap,ke=new WeakMap,ne=new WeakMap,U=new WeakMap,_e=new WeakMap,$e=new WeakMap,je=new WeakMap,ze=new WeakMap,Ze=new WeakMap,Ce=new WeakMap,sr=new WeakMap,ir=new WeakMap,F=new WeakSet,gi=function(){try{_(this,ne,ue(()=>g(this,Fe).call(this,g(this,re))))}catch(e){this.error(e)}_(this,ae,!1)},vi=function(){const e=g(this,ve).pending;e&&(_(this,U,ue(()=>e(g(this,re)))),Te.enqueue(()=>{_(this,ne,L(this,F,Wt).call(this,()=>(Te.ensure(),ue(()=>g(this,Fe).call(this,g(this,re)))))),g(this,ze)>0?L(this,F,Vt).call(this):(rt(g(this,U),()=>{_(this,U,null)}),_(this,ae,!1))}))},Wt=function(e){var r=b,n=x,s=C;be(g(this,ke)),V(g(this,ke)),ot(g(this,ke).ctx);try{return e()}catch(i){return In(i),null}finally{be(r),V(n),ot(s)}},Vt=function(){const e=g(this,ve).pending;g(this,ne)!==null&&(_(this,$e,document.createDocumentFragment()),ns(g(this,ne),g(this,$e))),g(this,U)===null&&_(this,U,ue(()=>e(g(this,re))))},Ar=function(e){var r;if(!this.has_pending_snippet()){this.parent&&L(r=this.parent,F,Ar).call(r,e);return}_(this,ze,g(this,ze)+e),g(this,ze)===0&&(_(this,ae,!1),g(this,U)&&rt(g(this,U),()=>{_(this,U,null)}),g(this,$e)&&(g(this,re).before(g(this,$e)),_(this,$e,null)),We(()=>{Te.ensure().flush()}))};function ki(t,e,r){const n=Mt()?Hr:On;if(e.length===0){r(t.map(n));return}var s=A,i=b,a=_i();Promise.all(e.map(l=>mi(l))).then(l=>{a();try{r([...t.map(n),...l])}catch(u){(i.f&ct)===0&&ut(u,i)}s==null||s.deactivate(),$r()}).catch(l=>{ut(l,i)})}function _i(){var t=b,e=x,r=C,n=A;return function(){be(t),V(e),ot(r),n==null||n.activate()}}function $r(){be(null),V(null),ot(null)}function Hr(t){var e=j|J,r=x!==null&&(x.f&j)!==0?x:null;return b===null||r!==null&&(r.f&ie)!==0?e|=ie:b.f|=ft,{ctx:C,deps:null,effects:null,equals:zn,f:e,fn:t,reactions:null,rv:0,v:M,wv:0,parent:r??b,ac:null}}function mi(t,e){let r=b;r===null&&Vs();var n=r.b,s=void 0,i=Ge(M),a=!x,l=new Map;return zi(()=>{var c;var u=$n();s=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then($r)}catch(v){u.reject(v),$r()}var o=A,f=n.is_pending();a&&(n.update_pending_count(1),f||(o.increment(),(c=l.get(o))==null||c.reject(et),l.delete(o),l.set(o,u)));const d=(v,h=void 0)=>{if(f||o.activate(),h)h!==et&&(i.f|=He,St(i,h));else{(i.f&He)!==0&&(i.f^=He),St(i,v);for(const[p,k]of l){if(l.delete(p),p===o)break;k.reject(et)}}a&&(n.update_pending_count(-1),f||o.decrement())};u.promise.then(d,v=>d(null,v||"unknown"))}),Vn(()=>{for(const u of l.values())u.reject(et)}),new Promise(u=>{function o(f){function d(){f===s?u(i):o(s)}f.then(d,d)}o(s)})}function vr(t){const e=Hr(t);return ss(e),e}function On(t){const e=Hr(t);return e.equals=Cn,e}function Dn(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)G(e[r])}}function xi(t){for(var e=t.parent;e!==null;){if((e.f&j)===0)return e;e=e.parent}return null}function Ur(t){var e,r=b;be(xi(t));try{Dn(t),e=os(t)}finally{be(r)}return e}function Bn(t){var e=Ur(t);if(t.equals(e)||(t.v=e,t.wv=ls()),!pt)if(I!==null)I.set(t,t.v);else{var r=(Ie||(t.f&ie)!==0)&&t.deps!==null?qe:q;B(t,r)}}const Le=new Map;function Ge(t,e){var r={f:0,v:t,reactions:null,equals:zn,rv:0,wv:0};return r}function X(t,e){const r=Ge(t);return ss(r),r}function bi(t,e=!1,r=!0){var s;const n=Ge(t);return e||(n.equals=Cn),Lt&&r&&C!==null&&C.l!==null&&((s=C.l).s??(s.s=[])).push(n),n}function z(t,e,r=!1){x!==null&&(!he||(x.f&un)!==0)&&Mt()&&(x.f&(j|Ne|Zr|un))!==0&&!(D!=null&&D.includes(t))&&ei();let n=r?tt(e):e;return St(t,n)}function St(t,e){if(!t.equals(e)){var r=t.v;pt?Le.set(t,e):Le.set(t,r),t.v=e;var n=Te.ensure();n.capture(t,r),(t.f&j)!==0&&((t.f&J)!==0&&Ur(t),B(t,(t.f&ie)===0?q:qe)),t.wv=ls(),Fn(t,J),Mt()&&b!==null&&(b.f&q)!==0&&(b.f&(Re|Ke))===0&&(te===null?Pi([t]):te.push(t))}return e}function wt(t){z(t,t.v+1)}function Fn(t,e){var r=t.reactions;if(r!==null)for(var n=Mt(),s=r.length,i=0;i<s;i++){var a=r[i],l=a.f;if(!(!n&&a===b)){var u=(l&J)===0;u&&B(a,e),(l&j)!==0?Fn(a,qe):u&&((l&Ne)!==0&&ye!==null&&ye.push(a),Ve(a))}}}function tt(t){if(typeof t!="object"||t===null||Zt in t)return t;const e=Fs(t);if(e!==Ds&&e!==Bs)return t;var r=new Map,n=Or(t),s=X(0),i=Ue,a=l=>{if(Ue===i)return l();var u=x,o=Ue;V(null),gn(i);var f=l();return V(u),gn(o),f};return n&&r.set("length",X(t.length)),new Proxy(t,{defineProperty(l,u,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Xs();var f=r.get(u);return f===void 0?f=a(()=>{var d=X(o.value);return r.set(u,d),d}):z(f,o.value,!0),!0},deleteProperty(l,u){var o=r.get(u);if(o===void 0){if(u in l){const f=a(()=>X(M));r.set(u,f),wt(s)}}else z(o,M),wt(s);return!0},get(l,u,o){var v;if(u===Zt)return t;var f=r.get(u),d=u in l;if(f===void 0&&(!d||(v=xt(l,u))!=null&&v.writable)&&(f=a(()=>{var h=tt(d?l[u]:M),p=X(h);return p}),r.set(u,f)),f!==void 0){var c=$(f);return c===M?void 0:c}return Reflect.get(l,u,o)},getOwnPropertyDescriptor(l,u){var o=Reflect.getOwnPropertyDescriptor(l,u);if(o&&"value"in o){var f=r.get(u);f&&(o.value=$(f))}else if(o===void 0){var d=r.get(u),c=d==null?void 0:d.v;if(d!==void 0&&c!==M)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return o},has(l,u){var c;if(u===Zt)return!0;var o=r.get(u),f=o!==void 0&&o.v!==M||Reflect.has(l,u);if(o!==void 0||b!==null&&(!f||(c=xt(l,u))!=null&&c.writable)){o===void 0&&(o=a(()=>{var v=f?tt(l[u]):M,h=X(v);return h}),r.set(u,o));var d=$(o);if(d===M)return!1}return f},set(l,u,o,f){var m;var d=r.get(u),c=u in l;if(n&&u==="length")for(var v=o;v<d.v;v+=1){var h=r.get(v+"");h!==void 0?z(h,M):v in l&&(h=a(()=>X(M)),r.set(v+"",h))}if(d===void 0)(!c||(m=xt(l,u))!=null&&m.writable)&&(d=a(()=>X(void 0)),z(d,tt(o)),r.set(u,d));else{c=d.v!==M;var p=a(()=>tt(o));z(d,p)}var k=Reflect.getOwnPropertyDescriptor(l,u);if(k!=null&&k.set&&k.set.call(f,o),!c){if(n&&typeof u=="string"){var T=r.get("length"),S=Number(u);Number.isInteger(S)&&S>=T.v&&z(T,S+1)}wt(s)}return!0},ownKeys(l){$(s);var u=Reflect.ownKeys(l).filter(d=>{var c=r.get(d);return c===void 0||c.v!==M});for(var[o,f]of r)f.v!==M&&!(o in l)&&u.push(o);return u},setPrototypeOf(){Js()}})}var fn,jn,Zn,Hn;function wi(){if(fn===void 0){fn=window,jn=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Zn=xt(e,"firstChild").get,Hn=xt(e,"nextSibling").get,on(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),on(r)&&(r.__t=void 0)}}function Et(t=""){return document.createTextNode(t)}function Pe(t){return Zn.call(t)}function Nt(t){return Hn.call(t)}function W(t,e){return Pe(t)}function Un(t,e=!1){{var r=Pe(t);return r instanceof Comment&&r.data===""?Nt(r):r}}function se(t,e=1,r=!1){let n=t;for(;e--;)n=Nt(n);return n}function yi(t){t.textContent=""}function Wn(){return!1}let hn=!1;function Si(){hn||(hn=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function ht(t){var e=x,r=b;V(null),be(null);try{return t()}finally{V(e),be(r)}}function Ei(t,e,r,n=r){t.addEventListener(e,()=>ht(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),Si()}function Ti(t){b===null&&x===null&&Ks(),x!==null&&(x.f&ie)!==0&&b===null&&Qs(),pt&&Gs()}function Ri(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ae(t,e,r,n=!0){var s=b;s!==null&&(s.f&pe)!==0&&(t|=pe);var i={ctx:C,deps:null,nodes_start:null,nodes_end:null,f:t|J,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Yt(i),i.f|=lr}catch(u){throw G(i),u}else e!==null&&Ve(i);if(n){var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&ft)===0&&(a=a.first),a!==null&&(a.parent=s,s!==null&&Ri(a,s),x!==null&&(x.f&j)!==0&&(t&Ke)===0)){var l=x;(l.effects??(l.effects=[])).push(a)}}return i}function Ai(){return x!==null&&!he}function Vn(t){const e=Ae(Fr,null,!1);return B(e,q),e.teardown=t,e}function Gn(t){Ti();var e=b.f,r=!x&&(e&Re)!==0&&(e&lr)===0;if(r){var n=C;(n.e??(n.e=[])).push(t)}else return Qn(t)}function Qn(t){return Ae(Br|Us,t,!1)}function $i(t){Te.ensure();const e=Ae(Ke|ft,t,!0);return(r={})=>new Promise(n=>{r.outro?rt(e,()=>{G(e),n(void 0)}):(G(e),n(void 0))})}function Kn(t){return Ae(Br,t,!1)}function zi(t){return Ae(Zr|ft,t,!0)}function Wr(t,e=0){return Ae(Fr|e,t,!0)}function Tt(t,e=[],r=[]){ki(e,r,n=>{Ae(Fr,()=>t(...n.map($)),!0)})}function Vr(t,e=0){var r=Ae(Ne|e,t,!0);return r}function ue(t,e=!0){return Ae(Re|ft,t,!0,e)}function Yn(t){var e=t.teardown;if(e!==null){const r=pt,n=x;dn(!0),V(null);try{e.call(null)}finally{dn(r),V(n)}}}function Xn(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const s=r.ac;s!==null&&ht(()=>{s.abort(et)});var n=r.next;(r.f&Ke)!==0?r.parent=null:G(r,e),r=n}}function Ci(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Re)===0&&G(e),e=r}}function G(t,e=!0){var r=!1;(e||(t.f&Hs)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Jn(t.nodes_start,t.nodes_end),r=!0),Xn(t,e&&!r),Kt(t,0),B(t,ct);var n=t.transitions;if(n!==null)for(const i of n)i.stop();Yn(t);var s=t.parent;s!==null&&s.first!==null&&es(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Jn(t,e){for(;t!==null;){var r=t===e?null:Nt(t);t.remove(),t=r}}function es(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function rt(t,e,r=!0){var n=[];Gr(t,n,!0),ts(n,()=>{r&&G(t),e&&e()})}function ts(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var s of t)s.out(n)}else e()}function Gr(t,e,r){if((t.f&pe)===0){if(t.f^=pe,t.transitions!==null)for(const a of t.transitions)(a.is_global||r)&&e.push(a);for(var n=t.first;n!==null;){var s=n.next,i=(n.f&It)!==0||(n.f&Re)!==0;Gr(n,e,i?r:!1),n=s}}}function Qr(t){rs(t,!0)}function rs(t,e){if((t.f&pe)!==0){t.f^=pe,(t.f&q)===0&&(B(t,J),Ve(t));for(var r=t.first;r!==null;){var n=r.next,s=(r.f&It)!==0||(r.f&Re)!==0;rs(r,s?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}function ns(t,e){for(var r=t.nodes_start,n=t.nodes_end;r!==null;){var s=r===n?null:Nt(r);e.append(r),r=s}}let nt=!1;function pn(t){nt=t}let pt=!1;function dn(t){pt=t}let x=null,he=!1;function V(t){x=t}let b=null;function be(t){b=t}let D=null;function ss(t){x!==null&&(D===null?D=[t]:D.push(t))}let N=null,Y=0,te=null;function Pi(t){te=t}let is=1,Rt=0,Ue=Rt;function gn(t){Ue=t}let Ie=!1;function ls(){return++is}function cr(t){var d;var e=t.f;if((e&J)!==0)return!0;if((e&qe)!==0){var r=t.deps,n=(e&ie)!==0;if(r!==null){var s,i,a=(e&Qt)!==0,l=n&&b!==null&&!Ie,u=r.length;if((a||l)&&(b===null||(b.f&ct)===0)){var o=t,f=o.parent;for(s=0;s<u;s++)i=r[s],(a||!((d=i==null?void 0:i.reactions)!=null&&d.includes(o)))&&(i.reactions??(i.reactions=[])).push(o);a&&(o.f^=Qt),l&&f!==null&&(f.f&ie)===0&&(o.f^=ie)}for(s=0;s<u;s++)if(i=r[s],cr(i)&&Bn(i),i.wv>t.wv)return!0}(!n||b!==null&&!Ie)&&B(t,q)}return!1}function as(t,e,r=!0){var n=t.reactions;if(n!==null&&!(D!=null&&D.includes(t)))for(var s=0;s<n.length;s++){var i=n[s];(i.f&j)!==0?as(i,e,!1):e===i&&(r?B(i,J):(i.f&q)!==0&&B(i,qe),Ve(i))}}function os(t){var p;var e=N,r=Y,n=te,s=x,i=Ie,a=D,l=C,u=he,o=Ue,f=t.f;N=null,Y=0,te=null,Ie=(f&ie)!==0&&(he||!nt||x===null),x=(f&(Re|Ke))===0?t:null,D=null,ot(t.ctx),he=!1,Ue=++Rt,t.ac!==null&&(ht(()=>{t.ac.abort(et)}),t.ac=null);try{t.f|=yr;var d=t.fn,c=d(),v=t.deps;if(N!==null){var h;if(Kt(t,Y),v!==null&&Y>0)for(v.length=Y+N.length,h=0;h<N.length;h++)v[Y+h]=N[h];else t.deps=v=N;if(!Ie||(f&j)!==0&&t.reactions!==null)for(h=Y;h<v.length;h++)((p=v[h]).reactions??(p.reactions=[])).push(t)}else v!==null&&Y<v.length&&(Kt(t,Y),v.length=Y);if(Mt()&&te!==null&&!he&&v!==null&&(t.f&(j|qe|J))===0)for(h=0;h<te.length;h++)as(te[h],t);return s!==null&&s!==t&&(Rt++,te!==null&&(n===null?n=te:n.push(...te))),(t.f&He)!==0&&(t.f^=He),c}catch(k){return In(k)}finally{t.f^=yr,N=e,Y=r,te=n,x=s,Ie=i,D=a,ot(l),he=u,Ue=o}}function Ii(t,e){let r=e.reactions;if(r!==null){var n=Os.call(r,t);if(n!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(e.f&j)!==0&&(N===null||!N.includes(e))&&(B(e,qe),(e.f&(ie|Qt))===0&&(e.f^=Qt),Dn(e),Kt(e,0))}function Kt(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Ii(t,r[n])}function Yt(t){var e=t.f;if((e&ct)===0){B(t,q);var r=b,n=nt;b=t,nt=!0;try{(e&Ne)!==0?Ci(t):Xn(t),Yn(t);var s=os(t);t.teardown=typeof s=="function"?s:null,t.wv=is;var i;An&&ii&&(t.f&J)!==0&&t.deps}finally{nt=n,b=r}}}async function Li(){await Promise.resolve(),ui()}function $(t){var e=t.f,r=(e&j)!==0;if(x!==null&&!he){var n=b!==null&&(b.f&ct)!==0;if(!n&&!(D!=null&&D.includes(t))){var s=x.deps;if((x.f&yr)!==0)t.rv<Rt&&(t.rv=Rt,N===null&&s!==null&&s[Y]===t?Y++:N===null?N=[t]:(!Ie||!N.includes(t))&&N.push(t));else{(x.deps??(x.deps=[])).push(t);var i=t.reactions;i===null?t.reactions=[x]:i.includes(x)||i.push(x)}}}else if(r&&t.deps===null&&t.effects===null){var a=t,l=a.parent;l!==null&&(l.f&ie)===0&&(a.f^=ie)}if(pt){if(Le.has(t))return Le.get(t);if(r){a=t;var u=a.v;return((a.f&q)===0&&a.reactions!==null||us(a))&&(u=Ur(a)),Le.set(a,u),u}}else if(r){if(a=t,I!=null&&I.has(a))return I.get(a);cr(a)&&Bn(a)}if(I!=null&&I.has(t))return I.get(t);if((t.f&He)!==0)throw t.v;return t.v}function us(t){if(t.v===M)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Le.has(e)||(e.f&j)!==0&&us(e))return!0;return!1}function qt(t){var e=he;try{return he=!0,t()}finally{he=e}}const Mi=-7169;function B(t,e){t.f=t.f&Mi|e}const cs=new Set,zr=new Set;function Ni(t,e,r,n={}){function s(i){if(n.capture||_t.call(e,i),!i.cancelBubble)return ht(()=>r==null?void 0:r.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?We(()=>{e.addEventListener(t,s,n)}):e.addEventListener(t,s,n),s}function qi(t,e,r,n,s){var i={capture:n,passive:s},a=Ni(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Vn(()=>{e.removeEventListener(t,a,i)})}function Oi(t){for(var e=0;e<t.length;e++)cs.add(t[e]);for(var r of zr)r(t)}let vn=null;function _t(t){var S;var e=this,r=e.ownerDocument,n=t.type,s=((S=t.composedPath)==null?void 0:S.call(t))||[],i=s[0]||t.target;vn=t;var a=0,l=vn===t&&t.__root;if(l){var u=s.indexOf(l);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var o=s.indexOf(e);if(o===-1)return;u<=o&&(a=u)}if(i=s[a]||t.target,i!==e){wr(t,"currentTarget",{configurable:!0,get(){return i||r}});var f=x,d=b;V(null),be(null);try{for(var c,v=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var p=i["__"+n];if(p!=null&&(!i.disabled||t.target===i))if(Or(p)){var[k,...T]=p;k.apply(i,[t,...T])}else p.call(i,t)}catch(m){c?v.push(m):c=m}if(t.cancelBubble||h===e||h===null)break;i=h}if(c){for(let m of v)queueMicrotask(()=>{throw m});throw c}}finally{t.__root=e,delete t.currentTarget,V(f),be(d)}}}function fs(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Xt(t,e){var r=b;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Ye(t,e){var r=(e&Ns)!==0,n=(e&qs)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=fs(i?t:"<!>"+t),r||(s=Pe(s)));var a=n||jn?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Pe(a),u=a.lastChild;Xt(l,u)}else Xt(a,a);return a}}function Di(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Et();return t.append(e,r),Xt(e,r),t}function Me(t,e){t!==null&&t.before(e)}const Bi=["touchstart","touchmove"];function Fi(t){return Bi.includes(t)}let Cr=!0;function Pr(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function ji(t,e){return Zi(t,e)}const Je=new Map;function Zi(t,{target:e,anchor:r,props:n={},events:s,context:i,intro:a=!0}){wi();var l=new Set,u=d=>{for(var c=0;c<d.length;c++){var v=d[c];if(!l.has(v)){l.add(v);var h=Fi(v);e.addEventListener(v,_t,{passive:h});var p=Je.get(v);p===void 0?(document.addEventListener(v,_t,{passive:h}),Je.set(v,1)):Je.set(v,p+1)}}};u(Dr(cs)),zr.add(u);var o=void 0,f=$i(()=>{var d=r??e.appendChild(Et());return pi(d,{pending:()=>{}},c=>{if(i){ar({});var v=C;v.c=i}s&&(n.$$events=s),Cr=a,o=t(c,n)||{},Cr=!0,i&&or()}),()=>{var h;for(var c of l){e.removeEventListener(c,_t);var v=Je.get(c);--v===0?(document.removeEventListener(c,_t),Je.delete(c)):Je.set(c,v)}zr.delete(u),d!==r&&((h=d.parentNode)==null||h.removeChild(d))}});return Hi.set(o,f),o}let Hi=new WeakMap;var Se,me,oe,Ct,Pt;class Ui{constructor(e,r=!0){w(this,"anchor");y(this,Se,new Map);y(this,me,new Map);y(this,oe,new Map);y(this,Ct,!0);y(this,Pt,()=>{var e=A;if(g(this,Se).has(e)){var r=g(this,Se).get(e),n=g(this,me).get(r);if(n)Qr(n);else{var s=g(this,oe).get(r);s&&(g(this,me).set(r,s.effect),g(this,oe).delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[i,a]of g(this,Se)){if(g(this,Se).delete(i),i===e)break;const l=g(this,oe).get(a);l&&(G(l.effect),g(this,oe).delete(a))}for(const[i,a]of g(this,me)){if(i===r)continue;const l=()=>{if(Array.from(g(this,Se).values()).includes(i)){var o=document.createDocumentFragment();ns(a,o),o.append(Et()),g(this,oe).set(i,{effect:a,fragment:o})}else G(a);g(this,me).delete(i)};g(this,Ct)||!n?rt(a,l,!1):l()}}});this.anchor=e,_(this,Ct,r)}ensure(e,r){var n=A,s=Wn();if(r&&!g(this,me).has(e)&&!g(this,oe).has(e))if(s){var i=document.createDocumentFragment(),a=Et();i.append(a),g(this,oe).set(e,{effect:ue(()=>r(a)),fragment:i})}else g(this,me).set(e,ue(()=>r(this.anchor)));if(g(this,Se).set(n,e),s){for(const[l,u]of g(this,me))l===e?n.skipped_effects.delete(u):n.skipped_effects.add(u);for(const[l,u]of g(this,oe))l===e?n.skipped_effects.delete(u.effect):n.skipped_effects.add(u.effect);n.add_callback(g(this,Pt))}else g(this,Pt).call(this)}}Se=new WeakMap,me=new WeakMap,oe=new WeakMap,Ct=new WeakMap,Pt=new WeakMap;function Wi(t){C===null&&Ws(),Lt&&C.l!==null?Vi(C).m.push(t):Gn(()=>{const e=qt(t);if(typeof e=="function")return e})}function Vi(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}function Jt(t,e,r=!1){var n=new Ui(t),s=r?It:0;function i(a,l){n.ensure(a,l)}Vr(()=>{var a=!1;e((l,u=!0)=>{a=!0,i(u,l)}),a||i(!1,null)},s)}function Gi(t,e,r){for(var n=t.items,s=[],i=e.length,a=0;a<i;a++)Gr(e[a].e,s,!0);var l=i>0&&s.length===0&&r!==null;if(l){var u=r.parentNode;yi(u),u.append(r),n.clear(),ge(t,e[0].prev,e[i-1].next)}ts(s,()=>{for(var o=0;o<i;o++){var f=e[o];l||(n.delete(f.k),ge(t,f.prev,f.next)),G(f.e,!l)}})}function Qi(t,e,r,n,s,i=null){var a=t,l={flags:e,items:new Map,first:null},u=null,o=!1,f=new Map,d=On(()=>{var p=r();return Or(p)?p:p==null?[]:Dr(p)}),c,v;function h(){Ki(v,c,l,f,a,s,e,n,r),i!==null&&(c.length===0?u?Qr(u):u=ue(()=>i(a)):u!==null&&rt(u,()=>{u=null}))}Vr(()=>{v??(v=b),c=$(d);var p=c.length;if(!(o&&p===0)){o=p===0;var k,T,S,m;if(Wn()){var P=new Set,Z=A;for(T=0;T<p;T+=1){S=c[T],m=n(S,T);var Q=l.items.get(m)??f.get(m);Q?hs(Q,S,T):(k=ps(null,l,null,null,S,m,T,s,e,r,!0),f.set(m,k)),P.add(m)}for(const[ee,we]of l.items)P.has(ee)||Z.skipped_effects.add(we.e);Z.add_callback(h)}else h();$(d)}})}function Ki(t,e,r,n,s,i,a,l,u){var o=e.length,f=r.items,d=r.first,c=d,v,h=null,p=[],k=[],T,S,m,P;for(P=0;P<o;P+=1){if(T=e[P],S=l(T,P),m=f.get(S),m===void 0){var Z=n.get(S);if(Z!==void 0){n.delete(S),f.set(S,Z);var Q=h?h.next:c;ge(r,h,Z),ge(r,Z,Q),kr(Z,Q,s),h=Z}else{var ee=c?c.e.nodes_start:s;h=ps(ee,r,h,h===null?r.first:h.next,T,S,P,i,a,u)}f.set(S,h),p=[],k=[],c=h.next;continue}if(hs(m,T,P),(m.e.f&pe)!==0&&Qr(m.e),m!==c){if(v!==void 0&&v.has(m)){if(p.length<k.length){var we=k[0],K;h=we.prev;var ln=p[0],pr=p[p.length-1];for(K=0;K<p.length;K+=1)kr(p[K],we,s);for(K=0;K<k.length;K+=1)v.delete(k[K]);ge(r,ln.prev,pr.next),ge(r,h,ln),ge(r,pr,we),c=we,h=pr,P-=1,p=[],k=[]}else v.delete(m),kr(m,c,s),ge(r,m.prev,m.next),ge(r,m,h===null?r.first:h.next),ge(r,h,m),h=m;continue}for(p=[],k=[];c!==null&&c.k!==S;)(c.e.f&pe)===0&&(v??(v=new Set)).add(c),k.push(c),c=c.next;if(c===null)continue;m=c}p.push(m),h=m,c=m.next}if(c!==null||v!==void 0){for(var dr=v===void 0?[]:Dr(v);c!==null;)(c.e.f&pe)===0&&dr.push(c),c=c.next;var Ts=dr.length;if(Ts>0){var Rs=null;Gi(r,dr,Rs)}}t.first=r.first&&r.first.e,t.last=h&&h.e;for(var As of n.values())G(As.e);n.clear()}function hs(t,e,r,n){St(t.v,e),t.i=r}function ps(t,e,r,n,s,i,a,l,u,o,f){var d=(u&Ps)!==0,c=(u&Ls)===0,v=d?c?bi(s,!1,!1):Ge(s):s,h=(u&Is)===0?a:Ge(a),p={i:h,v,k:i,a:null,e:null,prev:r,next:n};try{if(t===null){var k=document.createDocumentFragment();k.append(t=Et())}return p.e=ue(()=>l(t,v,h,o),ni),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?f||(e.first=p):(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function kr(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==null&&i!==n;){var a=Nt(i);s.before(i),i=a}}function ge(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function kn(t,e,r=!1,n=!1,s=!1){var i=t,a="";Tt(()=>{var l=b;if(a!==(a=e()??"")&&(l.nodes_start!==null&&(Jn(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),a!=="")){var u=a+"";r?u=`<svg>${u}</svg>`:n&&(u=`<math>${u}</math>`);var o=fs(u);if((r||n)&&(o=Pe(o)),Xt(Pe(o),o.lastChild),r||n)for(;Pe(o);)i.before(Pe(o));else i.before(o)}})}const Yi=()=>performance.now(),Ee={tick:t=>requestAnimationFrame(t),now:()=>Yi(),tasks:new Set};function ds(){const t=Ee.now();Ee.tasks.forEach(e=>{e.c(t)||(Ee.tasks.delete(e),e.f())}),Ee.tasks.size!==0&&Ee.tick(ds)}function Xi(t){let e;return Ee.tasks.size===0&&Ee.tick(ds),{promise:new Promise(r=>{Ee.tasks.add(e={c:t,f:r})}),abort(){Ee.tasks.delete(e)}}}function Bt(t,e){ht(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ji(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function _n(t){const e={},r=t.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Ji(s.trim());e[a]=i.trim()}return e}const el=t=>t;function tl(t,e,r,n){var s=(t&Ms)!==0,i="both",a,l=e.inert,u=e.style.overflow,o,f;function d(){return ht(()=>a??(a=r()(e,(n==null?void 0:n())??{},{direction:i})))}var c={is_global:s,in(){e.inert=l,Bt(e,"introstart"),o=Ir(e,d(),f,1,()=>{Bt(e,"introend"),o==null||o.abort(),o=a=void 0,e.style.overflow=u})},out(k){e.inert=!0,Bt(e,"outrostart"),f=Ir(e,d(),o,0,()=>{Bt(e,"outroend"),k==null||k()})},stop:()=>{o==null||o.abort(),f==null||f.abort()}},v=b;if((v.transitions??(v.transitions=[])).push(c),Cr){var h=s;if(!h){for(var p=v.parent;p&&(p.f&It)!==0;)for(;(p=p.parent)&&(p.f&Ne)===0;);h=!p||(p.f&lr)!==0}h&&Kn(()=>{qt(()=>c.in())})}}function Ir(t,e,r,n,s){var i=n===1;if(js(e)){var a,l=!1;return We(()=>{if(!l){var k=e({direction:i?"in":"out"});a=Ir(t,k,r,n,s)}}),{abort:()=>{l=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:dt,deactivate:dt,reset:dt,t:()=>n};const{delay:u=0,css:o,tick:f,easing:d=el}=e;var c=[];if(i&&r===void 0&&(f&&f(0,1),o)){var v=_n(o(0,1));c.push(v,v)}var h=()=>1-n,p=t.animate(c,{duration:u,fill:"forwards"});return p.onfinish=()=>{p.cancel();var k=(r==null?void 0:r.t())??1-n;r==null||r.abort();var T=n-k,S=e.duration*Math.abs(T),m=[];if(S>0){var P=!1;if(o)for(var Z=Math.ceil(S/16.666666666666668),Q=0;Q<=Z;Q+=1){var ee=k+T*d(Q/Z),we=_n(o(ee,1-ee));m.push(we),P||(P=we.overflow==="hidden")}P&&(t.style.overflow="hidden"),h=()=>{var K=p.currentTime;return k+T*d(K/S)},f&&Xi(()=>{if(p.playState!=="running")return!1;var K=h();return f(K,1-K),!0})}p=t.animate(m,{duration:S,fill:"forwards"}),p.onfinish=()=>{h=()=>n,f==null||f(n,1-n),s()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=dt)},deactivate:()=>{s=dt},reset:()=>{n===0&&(f==null||f(1,0))},t:()=>h()}}function rl(t,e,r=e){var n=new WeakSet;Ei(t,"input",async s=>{var i=s?t.defaultValue:t.value;if(i=_r(t)?mr(i):i,r(i),A!==null&&n.add(A),await Li(),i!==(i=e())){var a=t.selectionStart,l=t.selectionEnd,u=t.value.length;if(t.value=i??"",l!==null){var o=t.value.length;a===l&&l===u&&o>u?(t.selectionStart=o,t.selectionEnd=o):(t.selectionStart=a,t.selectionEnd=Math.min(l,o))}}}),qt(e)==null&&t.value&&(r(_r(t)?mr(t.value):t.value),A!==null&&n.add(A)),Wr(()=>{var s=e();if(t===document.activeElement){var i=Ht??A;if(n.has(i))return}_r(t)&&s===mr(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function _r(t){var e=t.type;return e==="number"||e==="range"}function mr(t){return t===""?null:+t}function mn(t,e){return t===e||(t==null?void 0:t[Zt])===e}function nl(t={},e,r,n){return Kn(()=>{var s,i;return Wr(()=>{s=i,i=[],qt(()=>{t!==r(...i)&&(e(t,...i),s&&mn(r(...s),t)&&e(null,...s))})}),()=>{We(()=>{i&&mn(r(...i),t)&&e(null,...i)})}}),t}function sl(t,e,r,n){var s=n,i=!0,a=()=>(i&&(i=!1,s=n),s),l;l=t[e],l===void 0&&n!==void 0&&(l=a());var u;return u=()=>{var o=t[e];return o===void 0?a():(i=!0,o)},u}function Kr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Xe=Kr();function gs(t){Xe=t}var yt={exec:()=>null};function E(t,e=""){let r=typeof t=="string"?t:t.source,n={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(O.caret,"$1"),r=r.replace(s,a),n},getRegex:()=>new RegExp(r,e)};return n}var O={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},il=/^(?:[ \t]*(?:\n|$))+/,ll=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,al=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ot=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ol=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Yr=/(?:[*+-]|\d{1,9}[.)])/,vs=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ks=E(vs).replace(/bull/g,Yr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ul=E(vs).replace(/bull/g,Yr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,cl=/^[^\n]+/,Jr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,fl=E(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Jr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),hl=E(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Yr).getRegex(),fr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",en=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,pl=E("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",en).replace("tag",fr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_s=E(Xr).replace("hr",Ot).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fr).getRegex(),dl=E(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_s).getRegex(),tn={blockquote:dl,code:ll,def:fl,fences:al,heading:ol,hr:Ot,html:pl,lheading:ks,list:hl,newline:il,paragraph:_s,table:yt,text:cl},xn=E("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ot).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fr).getRegex(),gl={...tn,lheading:ul,table:xn,paragraph:E(Xr).replace("hr",Ot).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fr).getRegex()},vl={...tn,html:E(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",en).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:yt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:E(Xr).replace("hr",Ot).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ks).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},kl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_l=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ms=/^( {2,}|\\)\n(?!\s*$)/,ml=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,hr=/[\p{P}\p{S}]/u,rn=/[\s\p{P}\p{S}]/u,xs=/[^\s\p{P}\p{S}]/u,xl=E(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,rn).getRegex(),bs=/(?!~)[\p{P}\p{S}]/u,bl=/(?!~)[\s\p{P}\p{S}]/u,wl=/(?:[^\s\p{P}\p{S}]|~)/u,yl=E(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),ws=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Sl=E(ws,"u").replace(/punct/g,hr).getRegex(),El=E(ws,"u").replace(/punct/g,bs).getRegex(),ys="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Tl=E(ys,"gu").replace(/notPunctSpace/g,xs).replace(/punctSpace/g,rn).replace(/punct/g,hr).getRegex(),Rl=E(ys,"gu").replace(/notPunctSpace/g,wl).replace(/punctSpace/g,bl).replace(/punct/g,bs).getRegex(),Al=E("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,xs).replace(/punctSpace/g,rn).replace(/punct/g,hr).getRegex(),$l=E(/\\(punct)/,"gu").replace(/punct/g,hr).getRegex(),zl=E(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Cl=E(en).replace("(?:-->|$)","-->").getRegex(),Pl=E("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Cl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),er=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Il=E(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",er).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ss=E(/^!?\[(label)\]\[(ref)\]/).replace("label",er).replace("ref",Jr).getRegex(),Es=E(/^!?\[(ref)\](?:\[\])?/).replace("ref",Jr).getRegex(),Ll=E("reflink|nolink(?!\\()","g").replace("reflink",Ss).replace("nolink",Es).getRegex(),bn=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,nn={_backpedal:yt,anyPunctuation:$l,autolink:zl,blockSkip:yl,br:ms,code:_l,del:yt,emStrongLDelim:Sl,emStrongRDelimAst:Tl,emStrongRDelimUnd:Al,escape:kl,link:Il,nolink:Es,punctuation:xl,reflink:Ss,reflinkSearch:Ll,tag:Pl,text:ml,url:yt},Ml={...nn,link:E(/^!?\[(label)\]\((.*?)\)/).replace("label",er).getRegex(),reflink:E(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",er).getRegex()},Lr={...nn,emStrongRDelimAst:Rl,emStrongLDelim:El,url:E(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",bn).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:E(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",bn).getRegex()},Nl={...Lr,br:E(ms).replace("{2,}","*").getRegex(),text:E(Lr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ft={normal:tn,gfm:gl,pedantic:vl},gt={normal:nn,gfm:Lr,breaks:Nl,pedantic:Ml},ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wn=t=>ql[t];function de(t,e){if(e){if(O.escapeTest.test(t))return t.replace(O.escapeReplace,wn)}else if(O.escapeTestNoEncode.test(t))return t.replace(O.escapeReplaceNoEncode,wn);return t}function yn(t){try{t=encodeURI(t).replace(O.percentDecode,"%")}catch{return null}return t}function Sn(t,e){var i;let r=t.replace(O.findPipe,(a,l,u)=>{let o=!1,f=l;for(;--f>=0&&u[f]==="\\";)o=!o;return o?"|":" |"}),n=r.split(O.splitPipe),s=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(O.slashPipe,"|");return n}function vt(t,e,r){let n=t.length;if(n===0)return"";let s=0;for(;s<n&&t.charAt(n-s-1)===e;)s++;return t.slice(0,n-s)}function Ol(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function En(t,e,r,n,s){let i=e.href,a=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}function Dl(t,e,r){let n=t.match(r.other.indentCodeCompensation);if(n===null)return e;let s=n[1];return e.split(`
`).map(i=>{let a=i.match(r.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=s.length?i.slice(s.length):i}).join(`
`)}var tr=class{constructor(t){w(this,"options");w(this,"rules");w(this,"lexer");this.options=t||Xe}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:vt(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],n=Dl(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let n=vt(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:vt(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=vt(e[0],`
`).split(`
`),n="",s="",i=[];for(;r.length>0;){let a=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);let o=l.join(`
`),f=o.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${o}`:o,s=s?`${s}
${f}`:f;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,i,!0),this.lexer.state.top=d,r.length===0)break;let c=i.at(-1);if((c==null?void 0:c.type)==="code")break;if((c==null?void 0:c.type)==="blockquote"){let v=c,h=v.raw+`
`+r.join(`
`),p=this.blockquote(h);i[i.length-1]=p,n=n.substring(0,n.length-v.raw.length)+p.raw,s=s.substring(0,s.length-v.text.length)+p.text;break}else if((c==null?void 0:c.type)==="list"){let v=c,h=v.raw+`
`+r.join(`
`),p=this.list(h);i[i.length-1]=p,n=n.substring(0,n.length-c.raw.length)+p.raw,s=s.substring(0,s.length-v.raw.length)+p.raw,r=h.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),n=r.length>1,s={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let i=this.rules.other.listItemRegex(r),a=!1;for(;t;){let u=!1,o="",f="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;o=e[0],t=t.substring(o.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),c=t.split(`
`,1)[0],v=!d.trim(),h=0;if(this.options.pedantic?(h=2,f=d.trimStart()):v?h=e[1].length+1:(h=e[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,f=d.slice(h),h+=e[1].length),v&&this.rules.other.blankLine.test(c)&&(o+=c+`
`,t=t.substring(c.length+1),u=!0),!u){let T=this.rules.other.nextBulletRegex(h),S=this.rules.other.hrRegex(h),m=this.rules.other.fencesBeginRegex(h),P=this.rules.other.headingBeginRegex(h),Z=this.rules.other.htmlBeginRegex(h);for(;t;){let Q=t.split(`
`,1)[0],ee;if(c=Q,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),ee=c):ee=c.replace(this.rules.other.tabCharGlobal,"    "),m.test(c)||P.test(c)||Z.test(c)||T.test(c)||S.test(c))break;if(ee.search(this.rules.other.nonSpaceChar)>=h||!c.trim())f+=`
`+ee.slice(h);else{if(v||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||m.test(d)||P.test(d)||S.test(d))break;f+=`
`+c}!v&&!c.trim()&&(v=!0),o+=Q+`
`,t=t.substring(Q.length+1),d=ee.slice(h)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(o)&&(a=!0));let p=null,k;this.options.gfm&&(p=this.rules.other.listIsTask.exec(f),p&&(k=p[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:o,task:!!p,checked:k,loose:!1,text:f,tokens:[]}),s.raw+=o}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let o=s.items[u].tokens.filter(d=>d.type==="space"),f=o.length>0&&o.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=f}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:s}}}table(t){var a;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=Sn(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?i.align.push("right"):this.rules.other.tableAlignCenter.test(l)?i.align.push("center"):this.rules.other.tableAlignLeft.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<r.length;l++)i.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:i.align[l]});for(let l of s)i.rows.push(Sn(l,i.header.length).map((u,o)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:i.align[o]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=vt(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=Ol(e[2],"()");if(i===-2)return;if(i>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let n=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),En(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[n.toLowerCase()];if(!s){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return En(r,s,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...n[0]].length-1,i,a,l=s,u=0,o=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(o.lastIndex=0,e=e.slice(-1*t.length+s);(n=o.exec(e))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(a=[...i].length,n[3]||n[4]){l+=a;continue}else if((n[5]||n[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+u);let f=[...n[0]][0].length,d=t.slice(0,s+n.index+f+a);if(Math.min(s,a)%2){let v=d.slice(1,-1);return{type:"em",raw:d,text:v,tokens:this.lexer.inlineTokens(v)}}let c=d.slice(2,-2);return{type:"strong",raw:d,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let n,s;if(e[2]==="@")n=e[0],s="mailto:"+n;else{let i;do i=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(i!==e[0]);n=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},ce=class Mr{constructor(e){w(this,"tokens");w(this,"options");w(this,"state");w(this,"tokenizer");w(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Xe,this.options.tokenizer=this.options.tokenizer||new tr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:O,block:Ft.normal,inline:gt.normal};this.options.pedantic?(r.block=Ft.pedantic,r.inline=gt.pedantic):this.options.gfm&&(r.block=Ft.gfm,this.options.breaks?r.inline=gt.breaks:r.inline=gt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ft,inline:gt}}static lex(e,r){return new Mr(r).lex(e)}static lexInline(e,r){return new Mr(r).inlineTokens(e)}lex(e){e=e.replace(O.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var s,i,a;for(this.options.pedantic&&(e=e.replace(O.tabCharGlobal,"    ").replace(O.spaceLine,""));e;){let l;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(o=>(l=o.call({lexer:this},e,r))?(e=e.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);let o=r.at(-1);l.raw.length===1&&o!==void 0?o.raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);let o=r.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+l.raw,o.text+=`
`+l.text,this.inlineQueue.at(-1).src=o.text):r.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);let o=r.at(-1);(o==null?void 0:o.type)==="paragraph"||(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+l.raw,o.text+=`
`+l.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},r.push(l));continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),r.push(l);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let o=1/0,f=e.slice(1),d;this.options.extensions.startBlock.forEach(c=>{d=c.call({lexer:this},f),typeof d=="number"&&d>=0&&(o=Math.min(o,d))}),o<1/0&&o>=0&&(u=e.substring(0,o+1))}if(this.state.top&&(l=this.tokenizer.paragraph(u))){let o=r.at(-1);n&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(l),n=u.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);let o=r.at(-1);(o==null?void 0:o.type)==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):r.push(l);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var l,u,o,f,d;let n=e,s=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((u=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:u.call({lexer:this},n))??n;let i=!1,a="";for(;e;){i||(a=""),i=!1;let c;if((f=(o=this.options.extensions)==null?void 0:o.inline)!=null&&f.some(h=>(c=h.call({lexer:this},e,r))?(e=e.substring(c.raw.length),r.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let h=r.at(-1);c.type==="text"&&(h==null?void 0:h.type)==="text"?(h.raw+=c.raw,h.text+=c.text):r.push(c);continue}if(c=this.tokenizer.emStrong(e,n,a)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),r.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),r.push(c);continue}let v=e;if((d=this.options.extensions)!=null&&d.startInline){let h=1/0,p=e.slice(1),k;this.options.extensions.startInline.forEach(T=>{k=T.call({lexer:this},p),typeof k=="number"&&k>=0&&(h=Math.min(h,k))}),h<1/0&&h>=0&&(v=e.substring(0,h+1))}if(c=this.tokenizer.inlineText(v)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),i=!0;let h=r.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=c.raw,h.text+=c.text):r.push(c);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},rr=class{constructor(t){w(this,"options");w(this,"parser");this.options=t||Xe}space(t){return""}code({text:t,lang:e,escaped:r}){var i;let n=(i=(e||"").match(O.notSpaceStart))==null?void 0:i[0],s=t.replace(O.endingNewline,"")+`
`;return n?'<pre><code class="language-'+de(n)+'">'+(r?s:de(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:de(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,n="";for(let a=0;a<t.items.length;a++){let l=t.items[a];n+=this.listitem(l)}let s=e?"ol":"ul",i=e&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+n+"</"+s+`>
`}listitem(t){var r;let e="";if(t.task){let n=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+de(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let s=0;s<t.header.length;s++)r+=this.tablecell(t.header[s]);e+=this.tablerow({text:r});let n="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];r="";for(let a=0;a<i.length;a++)r+=this.tablecell(i[a]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${de(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let n=this.parser.parseInline(r),s=yn(t);if(s===null)return n;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+de(e)+'"'),i+=">"+n+"</a>",i}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let s=yn(t);if(s===null)return de(r);t=s;let i=`<img src="${t}" alt="${r}"`;return e&&(i+=` title="${de(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:de(t.text)}},sn=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},fe=class Nr{constructor(e){w(this,"options");w(this,"renderer");w(this,"textRenderer");this.options=e||Xe,this.options.renderer=this.options.renderer||new rr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new sn}static parse(e,r){return new Nr(r).parse(e)}static parseInline(e,r){return new Nr(r).parseInline(e)}parse(e,r=!0){var s,i;let n="";for(let a=0;a<e.length;a++){let l=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[l.type]){let o=l,f=this.options.extensions.renderers[o.type].call({parser:this},o);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=f||"";continue}}let u=l;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"def":{n+=this.renderer.def(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let o=u,f=this.renderer.text(o);for(;a+1<e.length&&e[a+1].type==="text";)o=e[++a],f+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):n+=f;continue}default:{let o='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r=this.renderer){var s,i;let n="";for(let a=0;a<e.length;a++){let l=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[l.type]){let o=this.options.extensions.renderers[l.type].call({parser:this},l);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=o||"";continue}}let u=l;switch(u.type){case"escape":{n+=r.text(u);break}case"html":{n+=r.html(u);break}case"link":{n+=r.link(u);break}case"image":{n+=r.image(u);break}case"strong":{n+=r.strong(u);break}case"em":{n+=r.em(u);break}case"codespan":{n+=r.codespan(u);break}case"br":{n+=r.br(u);break}case"del":{n+=r.del(u);break}case"text":{n+=r.text(u);break}default:{let o='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},jt,mt=(jt=class{constructor(t){w(this,"options");w(this,"block");this.options=t||Xe}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ce.lex:ce.lexInline}provideParser(){return this.block?fe.parse:fe.parseInline}},w(jt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),w(jt,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),jt),Bl=class{constructor(...t){w(this,"defaults",Kr());w(this,"options",this.setOptions);w(this,"parse",this.parseMarkdown(!0));w(this,"parseInline",this.parseMarkdown(!1));w(this,"Parser",fe);w(this,"Renderer",rr);w(this,"TextRenderer",sn);w(this,"Lexer",ce);w(this,"Tokenizer",tr);w(this,"Hooks",mt);this.use(...t)}walkTokens(t,e){var n,s;let r=[];for(let i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{let a=i;for(let l of a.header)r=r.concat(this.walkTokens(l.tokens,e));for(let l of a.rows)for(let u of l)r=r.concat(this.walkTokens(u.tokens,e));break}case"list":{let a=i;r=r.concat(this.walkTokens(a.items,e));break}default:{let a=i;(s=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let u=a[l].flat(1/0);r=r.concat(this.walkTokens(u,e))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),r.renderer){let s=this.defaults.renderer||new rr(this.defaults);for(let i in r.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,l=r.renderer[a],u=s[a];s[a]=(...o)=>{let f=l.apply(s,o);return f===!1&&(f=u.apply(s,o)),f||""}}n.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new tr(this.defaults);for(let i in r.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,l=r.tokenizer[a],u=s[a];s[a]=(...o)=>{let f=l.apply(s,o);return f===!1&&(f=u.apply(s,o)),f}}n.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new mt;for(let i in r.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,l=r.hooks[a],u=s[a];mt.passThroughHooks.has(i)?s[a]=o=>{if(this.defaults.async&&mt.passThroughHooksRespectAsync.has(i))return(async()=>{let d=await l.call(s,o);return u.call(s,d)})();let f=l.call(s,o);return u.call(s,f)}:s[a]=(...o)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(s,o);return d===!1&&(d=await u.apply(s,o)),d})();let f=l.apply(s,o);return f===!1&&(f=u.apply(s,o)),f}}n.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,i=r.walkTokens;n.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ce.lex(t,e??this.defaults)}parser(t,e){return fe.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{let n={...r},s={...this.defaults,...n},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&n.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(e):e,l=await(s.hooks?await s.hooks.provideLexer():t?ce.lex:ce.lexInline)(a,s),u=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let o=await(s.hooks?await s.hooks.provideParser():t?fe.parse:fe.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(o):o})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let a=(s.hooks?s.hooks.provideLexer():t?ce.lex:ce.lexInline)(e,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?fe.parse:fe.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return i(a)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+de(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},Qe=new Bl;function R(t,e){return Qe.parse(t,e)}R.options=R.setOptions=function(t){return Qe.setOptions(t),R.defaults=Qe.defaults,gs(R.defaults),R};R.getDefaults=Kr;R.defaults=Xe;R.use=function(...t){return Qe.use(...t),R.defaults=Qe.defaults,gs(R.defaults),R};R.walkTokens=function(t,e){return Qe.walkTokens(t,e)};R.parseInline=Qe.parseInline;R.Parser=fe;R.parser=fe.parse;R.Renderer=rr;R.TextRenderer=sn;R.Lexer=ce;R.lexer=ce.lex;R.Tokenizer=tr;R.Hooks=mt;R.parse=R;R.options;R.setOptions;R.use;R.walkTokens;R.parseInline;fe.parse;ce.lex;var Fl=Ye('<div class="message message-assistant flex gap-3 items-start"><div class="message-avatar w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white flex-shrink-0"><span class="material-icons text-2xl">favorite_border</span></div> <div class="message-wrapper flex flex-col gap-1 max-w-[75%]"><span class="message-sender text-sm font-medium text-text-light dark:text-text-dark">어시스턴트</span> <div class="message-content p-4 rounded-large bg-surface-light dark:bg-surface-dark text-text-light dark:text-text-dark shadow-sm rounded-tl-sm markdown-content"><!></div> <span class="message-time text-xs text-text-light-secondary dark:text-text-dark-secondary mt-1"> </span></div></div>'),jl=Ye('<div class="message message-user flex justify-end"><div class="message-wrapper flex flex-col gap-1 max-w-[75%] items-end"><div class="message-content p-4 rounded-large bg-user-bubble-light dark:bg-user-bubble-dark text-white shadow-sm rounded-tr-sm"><!></div> <span class="message-time text-xs text-text-light-secondary dark:text-text-dark-secondary mt-1"> </span></div></div>');function Zl(t,e){ar(e,!0);const r=vr(()=>new Date(e.message.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})),n=vr(()=>e.message.role==="assistant"),s=vr(()=>$(n)?R.parse(e.message.content):i(e.message.content));function i(f){const d=document.createElement("div");return d.textContent=f,d.innerHTML}var a=Di(),l=Un(a);{var u=f=>{var d=Fl(),c=se(W(d),2),v=se(W(c),2),h=W(v);kn(h,()=>$(s));var p=se(v,2),k=W(p);Tt(()=>Pr(k,$(r))),Me(f,d)},o=f=>{var d=jl(),c=W(d),v=W(c),h=W(v);kn(h,()=>$(s));var p=se(v,2),k=W(p);Tt(()=>Pr(k,$(r))),Me(f,d)};Jt(l,f=>{$(n)?f(u):f(o,!1)})}Me(t,a),or()}li();var Hl=Ye('<div class="message message-assistant flex gap-3 items-start svelte-ej4x60"><div class="message-avatar w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white flex-shrink-0 svelte-ej4x60"><span class="material-icons text-2xl svelte-ej4x60">favorite_border</span></div> <div class="message-wrapper svelte-ej4x60"><div class="message-content flex gap-1 items-center p-3 rounded-large bg-surface-light dark:bg-surface-dark shadow-sm svelte-ej4x60"><span class="dot svelte-ej4x60"></span> <span class="dot svelte-ej4x60"></span> <span class="dot svelte-ej4x60"></span></div></div></div>');function Ul(t){var e=Hl();Me(t,e)}function Wl(t){const e=t-1;return e*e*e+1}function Tn(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function Vl(t,{delay:e=0,duration:r=400,easing:n=Wl,x:s=0,y:i=0,opacity:a=0}={}){const l=getComputedStyle(t),u=+l.opacity,o=l.transform==="none"?"":l.transform,f=u*(1-a),[d,c]=Tn(s),[v,h]=Tn(i);return{delay:e,duration:r,easing:n,css:(p,k)=>`
			transform: ${o} translate(${(1-p)*d}${c}, ${(1-p)*v}${h});
			opacity: ${u-f*k}`}}var Gl=Ye('<button class="bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded text-sm transition-colors">재시도</button>'),Ql=Ye('<div class="fixed bottom-20 left-1/2 -translate-x-1/2 bg-red-600 text-white px-5 py-3 rounded-lg shadow-lg flex items-center gap-3 z-[1000]"><span class="flex-1"> </span> <!> <button class="bg-white/20 hover:bg-white/30 px-2 py-1 rounded text-sm transition-colors">×</button></div>');function Kl(t,e){var r=Ql(),n=W(r),s=W(n),i=se(n,2);{var a=u=>{var o=Gl();o.__click=function(...f){var d;(d=e.onRetry)==null||d.apply(this,f)},Me(u,o)};Jt(i,u=>{e.onRetry&&u(a)})}var l=se(i,2);l.__click=function(...u){var o;(o=e.onClose)==null||o.apply(this,u)},Tt(()=>Pr(s,e.message)),tl(3,r,()=>Vl,()=>({y:100,duration:300})),Me(t,r)}Oi(["click"]);var Yl=Ye('<footer class="p-4 bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark"><form class="flex items-center gap-3"><button type="button" class="text-text-light-secondary dark:text-text-dark-secondary text-2xl"><span class="material-icons">add_circle_outline</span></button> <input class="flex-1 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-full py-2 px-4 focus:ring-primary focus:border-primary text-text-light dark:text-text-dark disabled:opacity-50" placeholder="메시지를 입력하세요" type="text" autocomplete="off"/> <button type="submit" class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center hover:opacity-90 transition-opacity disabled:opacity-50"><span class="material-icons text-xl">arrow_upward</span></button></form></footer>');function Xl(t,e){ar(e,!0);let r=sl(e,"disabled",3,!1),n=X("");function s(o){o.preventDefault(),$(n).trim()&&!r()&&(e.onSend($(n)),z(n,""))}var i=Yl(),a=W(i),l=se(W(a),2),u=se(l,2);Tt(o=>{l.disabled=r(),u.disabled=o},[()=>r()||!$(n).trim()]),qi("submit",a,s),rl(l,()=>$(n),o=>z(n,o)),Me(t,i),or()}let kt=X(tt([])),xr=X(!1),br=X(null);const H={get messages(){return $(kt)},get isLoading(){return $(xr)},get error(){return $(br)},addMessage(t){z(kt,[...$(kt),t],!0)},setMessages(t){z(kt,t,!0)},setLoading(t){z(xr,t,!0)},setError(t){z(br,t,!0)},reset(){z(kt,[],!0),z(xr,!1),z(br,null)}},Gt={apiUrl:"http://localhost:8008/chat",historyWindowSize:10,maxTokens:1024,temperature:.7,timeout:3e5,userId:"user_0009",userName:"송민호"};async function Jl(t){const e=new AbortController,r=setTimeout(()=>e.abort(),Gt.timeout);try{const i={messages:t.slice(-Gt.historyWindowSize).map(u=>({role:u.role,content:u.content}))},a=await fetch(Gt.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),signal:e.signal});if(clearTimeout(r),!a.ok){const u=await a.json();throw new Error(u.detail||"API 요청 실패")}const l=await a.json();if(!l.answer)throw new Error("올바르지 않은 응답 형식입니다");return l.answer}catch(n){throw clearTimeout(r),n instanceof Error&&n.name==="AbortError"?new Error("요청 시간이 초과되었습니다"):n}}var ea=Ye('<div class="chat-container max-w-md mx-auto h-screen flex flex-col"><header class="flex items-center justify-between p-4 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark"><button class="text-text-light dark:text-text-dark text-2xl"><span class="material-icons">close</span></button> <h1 class="text-lg font-bold text-text-light dark:text-text-dark">어시스턴트</h1> <div class="w-6"></div></header> <main class="flex-1 overflow-y-auto p-4 space-y-6"><!> <!></main> <!></div> <!>',1);function ta(t,e){ar(e,!0);let r,n=X(!1);Gn(()=>{r&&(r.scrollTop=r.scrollHeight)});async function s(p){const k={role:"user",content:p,timestamp:Date.now()};H.addMessage(k),H.setLoading(!0),H.setError(null),z(n,!1);try{const S={role:"assistant",content:await Jl(H.messages),timestamp:Date.now()};H.addMessage(S)}catch(T){const S=T instanceof Error?T.message:"알 수 없는 오류가 발생했습니다";H.setError(S),z(n,!0),setTimeout(()=>{z(n,!1)},5e3)}finally{H.setLoading(!1)}}function i(){const p=H.messages.filter(k=>k.role==="user").pop();p&&s(p.content)}Wi(()=>{const p={role:"assistant",content:`안녕하세요, ${Gt.userName}님! 무엇을 도와드릴까요?`,timestamp:Date.now()};H.addMessage(p)});var a=ea(),l=Un(a),u=se(W(l),2),o=W(u);Qi(o,17,()=>H.messages,p=>p.timestamp,(p,k)=>{Zl(p,{get message(){return $(k)}})});var f=se(o,2);{var d=p=>{Ul(p)};Jt(f,p=>{H.isLoading&&p(d)})}nl(u,p=>r=p,()=>r);var c=se(u,2);Xl(c,{get disabled(){return H.isLoading},onSend:s});var v=se(l,2);{var h=p=>{Kl(p,{get message(){return H.error},onRetry:i,onClose:()=>z(n,!1)})};Jt(v,p=>{$(n)&&H.error&&p(h)})}Me(t,a),or()}ji(ta,{target:document.getElementById("app")});
